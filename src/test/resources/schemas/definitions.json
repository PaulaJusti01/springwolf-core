# Estrutura do RepositÃ³rio â€“ BYOC | IU Lotus

Este repositÃ³rio segue o padrÃ£o **BYOC (Bring Your Own Code)** do **IU Lotus**, no qual o time Ã© responsÃ¡vel pelo cÃ³digo da aplicaÃ§Ã£o, infraestrutura como cÃ³digo, polÃ­ticas de seguranÃ§a e testes, mantendo total autonomia e controle sobre a soluÃ§Ã£o.

A seguir, estÃ¡ descrita a finalidade de cada diretÃ³rio e arquivo do repositÃ³rio.

---

## ğŸ“ infra/

DiretÃ³rio responsÃ¡vel por toda a **infraestrutura como cÃ³digo (IaC)** da aplicaÃ§Ã£o, utilizando Terraform e padrÃµes definidos pela plataforma IU Lotus.

---

### ğŸ“ infra/iamsr/

ContÃ©m recursos relacionados a **IAM (Identity and Access Management)**, incluindo polÃ­ticas de permissÃ£o e relaÃ§Ãµes de confianÃ§a utilizadas pelos serviÃ§os AWS.

#### ğŸ“ infra/iamsr/policy/

Define as **polÃ­ticas IAM** associadas aos serviÃ§os utilizados pela aplicaÃ§Ã£o.

- `policy-sagemaker.json`  
  PolÃ­tica com permissÃµes gerais necessÃ¡rias para utilizaÃ§Ã£o do Amazon SageMaker.

- `policy-sagemaker-model.json`  
  PolÃ­tica especÃ­fica para criaÃ§Ã£o, atualizaÃ§Ã£o e execuÃ§Ã£o de modelos SageMaker.

- `policy-step-function.json`  
  PolÃ­tica que concede permissÃµes para execuÃ§Ã£o de fluxos com AWS Step Functions.

> A pasta `.ipynb_checkpoints` Ã© criada automaticamente por ferramentas de desenvolvimento e nÃ£o faz parte da infraestrutura da aplicaÃ§Ã£o.

---

#### ğŸ“ infra/iamsr/trust/

Define as **trust relationships** dos roles IAM, especificando quais serviÃ§os AWS podem assumir cada role.

- `trust-sagemaker-model.json`  
  Permite que o serviÃ§o Amazon SageMaker assuma o role configurado para execuÃ§Ã£o do modelo.

---

### ğŸ“ infra/inventories/

ContÃ©m os arquivos de variÃ¡veis do Terraform por ambiente, permitindo a customizaÃ§Ã£o da infraestrutura conforme o contexto de execuÃ§Ã£o.

- `dev/terraform.tfvars`  
  VariÃ¡veis especÃ­ficas do ambiente **Desenvolvimento (Dev)**.

- `hom/terraform.tfvars`  
  VariÃ¡veis especÃ­ficas do ambiente **HomologaÃ§Ã£o (Hom)**.

- `prod/terraform.tfvars`  
  VariÃ¡veis especÃ­ficas do ambiente **ProduÃ§Ã£o (Prod)**.

---

### ğŸ“ infra/tests/

DiretÃ³rio reservado para **testes de infraestrutura**, quando aplicÃ¡vel, seguindo os padrÃµes de validaÃ§Ã£o da plataforma.

---

### ğŸ“„ infra/main.tf

Arquivo principal do Terraform.  
ResponsÃ¡vel por definir e orquestrar a criaÃ§Ã£o dos recursos de infraestrutura da aplicaÃ§Ã£o, como serviÃ§os do SageMaker, IAM e integraÃ§Ãµes necessÃ¡rias.

---

### ğŸ“„ infra/variables.tf

DeclaraÃ§Ã£o das **variÃ¡veis Terraform** utilizadas nos arquivos `.tf`, garantindo padronizaÃ§Ã£o e reutilizaÃ§Ã£o dos parÃ¢metros de infraestrutura.

---

## ğŸ“ tests/

DiretÃ³rio responsÃ¡vel pela definiÃ§Ã£o de **testes automatizados e validaÃ§Ãµes da esteira**.

- `testspec-dev.yml`  
  EspecificaÃ§Ã£o dos testes executados no ambiente **Dev**.

- `testspec-hom.yml`  
  EspecificaÃ§Ã£o dos testes executados no ambiente **HomologaÃ§Ã£o**.

Esses arquivos controlam a execuÃ§Ã£o de testes, gates de qualidade e validaÃ§Ãµes exigidas antes do deploy.

---

## ğŸ“„ iupipes.yml

Arquivo de configuraÃ§Ã£o da **pipeline do IU Lotus**.

Define:
- Etapas do pipeline
- Ordem de execuÃ§Ã£o
- IntegraÃ§Ã£o com testes, build e deploy
- Comportamento da esteira BYOC na plataforma

---

## ğŸ“„ config.yml

Arquivo central de **configuraÃ§Ã£o da aplicaÃ§Ã£o** no IU Lotus.

Define:
- Esteira (flavor) utilizada
- VersÃ£o da esteira
- ParÃ¢metros por ambiente (Dev, Hom, Prod)
- ConfiguraÃ§Ãµes de infraestrutura, autoscaling, data capture e variÃ¡veis de ambiente

---

## ğŸ“„ README.md

DocumentaÃ§Ã£o principal do repositÃ³rio.

Deve conter:
- DescriÃ§Ã£o da aplicaÃ§Ã£o
- VisÃ£o geral da arquitetura
- InstruÃ§Ãµes de uso e deploy
- ObservaÃ§Ãµes importantes sobre a esteira BYOC

---

## ğŸ“„ requirements.txt

Lista de **dependÃªncias Python** necessÃ¡rias para a aplicaÃ§Ã£o ou para execuÃ§Ã£o dos testes automatizados.

Utilizado durante o build da imagem e execuÃ§Ã£o dos pipelines.

---
